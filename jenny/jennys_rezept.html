<!DOCTYPE html>
<html lang="de">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Königsberger Klopse</title>

  <link rel="stylesheet" href="../style.css">
  <link rel="stylesheet" href="../fonts/fonts.css">

  <link rel="stylesheet" href="./jenny_rezept_style.css">

  <link rel="icon" type="image/png" href="../img/favicon.png" sizes="32x32">

  <!-- HTML-Includes & Navigation -->
  <script src="https://www.w3schools.com/lib/w3.js"></script>
  <script src="../dom.js"></script>
</head>

<body>
  <div class="layout">

    <!-- Einheitlicher Header -->
    <header class="site-header">
      <div w3-include-html="../templates/header.html"></div>
    </header>

    <main class="page">

      <!-- Hero-Bereich -->
      <section class="container">
        <h1>Königsberger Klopse</h1>
        <img src="../img/Königsberger Klopse.png" alt="Königsberger Klopse">
      </section>

      <!-- Zeit / Schwierigkeit / Datum -->
      <div class="cooking_bar">
        <div class="cooking_label">
          <img src="../img/icons/clock-regular.svg" alt="Zubereitungszeit">
          <div>15 Min.</div>
        </div>
        <div class="cooking_label">
          <img src="../img/icons/brain-solid.svg" alt="Schwierigkeitsgrad">
          <div>simpel</div>
        </div>
        <div class="cooking_label">
          <img src="../img/icons/calendar-alt-regular.svg" alt="Datum">
          <div>15.08.2023</div>
        </div>
      </div>

      <div class="second_line"></div>

      <!-- Zutaten + Portionsrechner -->
      <section class="ingrediants">
        <div class="calculator_bar">
          <span>Zutaten für</span>

          <div class="portion_box">
            <input id="portionInput" type="number" min="1" max="10" value="1">
            <button onclick="calculatePortions()">Portionen</button>
          </div>
        </div>
      </section>

      <!-- Zutaten-Tabelle -->
      <section class="ingredients_table">
        <table>
          <tbody>
            <tr>
              <td class="amount" data-base="1">1</td>
              <td>Stk. Brötchen</td>
            </tr>
            <tr>
              <td class="amount" data-base="1">1</td>
              <td>Stk. Zwiebel</td>
            </tr>
            <tr>
              <td class="amount" data-base="500">500</td>
              <td>g Hackfleisch gemischt</td>
            </tr>
            <tr>
              <td class="amount" data-base="1">1</td>
              <td>Stk. Ei (Größe M)</td>
            </tr>
            <tr>
              <td class="amount" data-base="1">1</td>
              <td>TL Senf</td>
            </tr>
            <tr>
              <td class="amount" data-base="1">1</td>
              <td>TL Majoran (getrocknet)</td>
            </tr>
            <tr>
              <td class="amount" data-base="500">500</td>
              <td>ml Fleischbrühe</td>
            </tr>
            <tr>
              <td class="amount" data-base="2">2</td>
              <td>Stk. Essiggurken</td>
            </tr>
            <tr>
              <td class="amount" data-base="1">1</td>
              <td>EL Butter</td>
            </tr>
            <tr>
              <td class="amount" data-base="1">1</td>
              <td>EL Mehl</td>
            </tr>
            <tr>
              <td class="amount" data-base="2">2</td>
              <td>EL Kapern</td>
            </tr>
            <tr>
              <td class="amount" data-base="1">1</td>
              <td>TL Zucker</td>
            </tr>
            <tr>
              <td class="amount" data-base="1">1</td>
              <td>EL Weißweinessig</td>
            </tr>
            <tr>
              <td class="amount" data-base="">–</td>
              <td>Salz &amp; Pfeffer</td>
            </tr>
          </tbody>
        </table>
      </section>

      <!-- Zubereitungsschritte -->
      <section class="preparation">
        <h2>Zubereitung</h2>

        <div class="cooking_bar">
          <div class="cooking_label">
            <img src="../img/icons/clock-regular.svg" alt="Arbeitszeit">
            <div>ca. 15 Min.</div>
          </div>
          <div class="cooking_label">
            <img src="../img/icons/clock-regular.svg" alt="Gesamtzeit">
            <div>Gesamtzeit ca. 15 Min.</div>
          </div>
        </div>

        <ol class="preparation_steps">
          <li>
            Das altbackene Brötchen 5 Minuten in Wasser einweichen, dann herausnehmen und leicht
            ausdrücken. Die Zwiebel schälen und fein hacken.
          </li>
          <li>
            Hackfleisch mit dem eingeweichten Brötchen, Zwiebel, Ei, Senf, Majoran, Salz und Pfeffer in
            eine große Schüssel geben und mit den Händen zu einem homogenen Teig vermengen.
          </li>
          <li>
            Aus der Fleischmasse etwa tischtennisballgroße Bällchen formen.
          </li>
          <li>
            Die Fleischbrühe in einem großen Topf erhitzen und die Klopse in das leicht köchelnde Wasser
            geben. 20–25 Minuten darin garen, entstehenden Schaum abschöpfen.
          </li>
          <li>
            Essiggurken klein würfeln. In einer Pfanne Butter schmelzen und Mehl darin bei niedriger bis
            mittlerer Hitze 1–2 Minuten leicht goldbraun anschwitzen. 200 ml von der Klops-Kochflüssigkeit
            abschöpfen, zur Mehlschwitze geben, gut umrühren und kurz köcheln lassen, bis die Sauce eindickt.
          </li>
          <li>
            Kapern, Essiggurkenwürfel, Weißweinessig und Zucker einrühren, mit Salz und Pfeffer abschmecken.
            Die Klopse vorsichtig aus der Brühe heben, in die Sauce geben und 5–10 Minuten darin ziehen lassen.
            Mit der Sauce servieren. Dazu passen Salzkartoffeln oder Reis.
          </li>
        </ol>
      </section>

      <!-- Autor-Bereich -->
      <section class="author">
        <h2>Rezept erstellt von</h2>
        <div>
          <img src="../img/jenny_pic.jpg" alt="Profilbild von Jenny">
          Jenny
        </div>
      </section>

    </main>

    <!-- Einheitlicher Footer -->
    <footer class="site-footer">
      <div w3-include-html="../templates/footer.html"></div>
    </footer>
  </div>

  <!-- Portionsrechner + HTML-Includes -->
  <script>
    function calculatePortions() {
      const input = document.getElementById('portionInput');
      let portions = parseInt(input.value, 10);

      if (isNaN(portions) || portions < 1) {
        portions = 1;
        input.value = '1';
      }

      if (portions > 10) {
        portions = 10;
        input.value = '10';
      }

      const amounts = document.querySelectorAll('.amount');

      amounts.forEach((amount) => {
        const baseAttr = amount.getAttribute('data-base');
        if (!baseAttr) return;

        const base = Number(baseAttr);
        if (isNaN(base)) return;

        amount.textContent = base * portions;
      });
    }

    // HTML-Templates laden und danach Navigation initialisieren
    w3.includeHTML(initNavigation);
  </script>
</body>

</html>